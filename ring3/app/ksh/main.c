#include "stdio.h"
#include "unistd.h"
#include "const.h"

char logo[] = {
  0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x5f, 0x20, 0x20, 0x5f, 0x20,
  0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x5f, 0x5f,
  0x5f, 0x20, 0x20, 0x5f, 0x5f, 0x5f, 0x20, 0x20, 0x20, 0x5f, 0x20, 0x20,
  0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x5f, 0x20, 0x20,
  0x5f, 0x5f, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
  0x20, 0x20, 0x20, 0x20, 0x20, 0x5f, 0x5f, 0x20, 0x20, 0x20, 0x20, 0x20,
  0x20, 0x0a, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x7c, 0x20, 0x5c, 0x7c,
  0x20, 0x7c, 0x5f, 0x5f, 0x20, 0x5f, 0x20, 0x5f, 0x20, 0x5f, 0x20, 0x2f,
  0x20, 0x5f, 0x20, 0x5c, 0x2f, 0x20, 0x5f, 0x5f, 0x7c, 0x20, 0x7c, 0x20,
  0x7c, 0x5f, 0x5f, 0x20, 0x5f, 0x20, 0x20, 0x5f, 0x20, 0x20, 0x7c, 0x20,
  0x7c, 0x2f, 0x20, 0x2f, 0x5f, 0x5f, 0x5f, 0x20, 0x5f, 0x20, 0x5f, 0x20,
  0x20, 0x5f, 0x5f, 0x20, 0x5f, 0x20, 0x2f, 0x20, 0x5f, 0x7c, 0x5f, 0x20,
  0x20, 0x5f, 0x20, 0x0a, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x7c, 0x20,
  0x2e, 0x60, 0x20, 0x2f, 0x20, 0x5f, 0x60, 0x20, 0x7c, 0x20, 0x27, 0x20,
  0x5c, 0x20, 0x28, 0x5f, 0x29, 0x20, 0x5c, 0x5f, 0x5f, 0x20, 0x5c, 0x20,
  0x7c, 0x20, 0x27, 0x5f, 0x20, 0x5c, 0x20, 0x7c, 0x7c, 0x20, 0x7c, 0x20,
  0x7c, 0x20, 0x27, 0x20, 0x3c, 0x2f, 0x20, 0x5f, 0x20, 0x5c, 0x20, 0x27,
  0x20, 0x5c, 0x2f, 0x20, 0x5f, 0x60, 0x20, 0x7c, 0x20, 0x20, 0x5f, 0x7c,
  0x20, 0x7c, 0x7c, 0x20, 0x7c, 0x0a, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
  0x7c, 0x5f, 0x7c, 0x5c, 0x5f, 0x5c, 0x5f, 0x5f, 0x2c, 0x5f, 0x7c, 0x5f,
  0x7c, 0x7c, 0x5f, 0x5c, 0x5f, 0x5f, 0x5f, 0x2f, 0x7c, 0x5f, 0x5f, 0x5f,
  0x2f, 0x20, 0x7c, 0x5f, 0x2e, 0x5f, 0x5f, 0x2f, 0x5c, 0x5f, 0x2c, 0x20,
  0x7c, 0x20, 0x7c, 0x5f, 0x7c, 0x5c, 0x5f, 0x5c, 0x5f, 0x5f, 0x5f, 0x2f,
  0x5f, 0x7c, 0x7c, 0x5f, 0x5c, 0x5f, 0x5f, 0x2c, 0x20, 0x7c, 0x5f, 0x7c,
  0x20, 0x20, 0x5c, 0x5f, 0x2c, 0x20, 0x7c, 0x0a, 0x20, 0x20, 0x20, 0x20,
  0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
  0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
  0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x7c, 0x5f,
  0x5f, 0x2f, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
  0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x7c, 0x5f, 0x5f, 0x5f, 0x2f, 0x20,
  0x20, 0x20, 0x20, 0x20, 0x7c, 0x5f, 0x5f, 0x2f, 0x20, 0x0a, 0x00
};

uint8_t buf[255];

int main(int argc, char *argv[])
{
    printf(logo);

    while (true) {
        printf("# ");

        int nread = read(STDIN_FILENO, buf, 255);
        buf[nread] = 0;

        int i;
        for (i = 0; i < nread; i ++) {
            if (buf[i] >= 'a' && buf[i] <= 'z') {
                buf[i] += 'A' - 'a';
            }
        }

        printf("GOT : %s\n", buf);
    }

    return 0;
}
